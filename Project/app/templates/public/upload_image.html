{% extends 'public/templates/public_template.html' %}

{% block title %}Upload Image{% endblock title %}

{% block main %}
<div class="container">
    <div class="row">
        <div class="col">
            <h1>Upload Image</h1>
            <hr>

            <form action="/upload-image" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <div class="custom-file">
                        <input oninput="filesize(this);" type="file" name="image" id="image" class="custom-file-input">
                        <label class="custom-file-label" for="image">Select Image...</label>
                    </div>
                </div>
                <button class="btn btn-primary" type="submit">Upload Image...</button>
            </form>
        </div>
    </div>
</div>
{% endblock main %}

{% block script %}
<script type="text/javascript">
    $(".custom-file-input").on("change", function() {
        var fileName = $(this).val().split("\\").pop();
        $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
    });
</script>
<script type="text/javascript">
    function filesize(elem){
        document.cookie = `filesize=${elem.files[0].size}`;
    }
</script>
{% endblock script %}